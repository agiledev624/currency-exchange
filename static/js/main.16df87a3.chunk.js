(this["webpackJsonpeywa-introductory-assignment"]=this["webpackJsonpeywa-introductory-assignment"]||[]).push([[0],{69:function(e,n,t){},78:function(e,n,t){},80:function(e,n,t){"use strict";t.r(n),t.d(n,"StoreProvider",(function(){return de})),t.d(n,"useStore",(function(){return be}));var r,a=t(0),o=t.n(a),c=t(8),i=t.n(c),u=t(15),s=(t(68),t(69),t(47)),l=t.n(s),d=t(50),b=t(27),f=t(56),p=t(51),j=t(12),m=t(13);!function(e){e.EUR="EUR",e.USD="USD",e.GBP="GBP"}(r||(r={}));var v,x,O,h,g,y,C,V,F,E,w,k={EUR:"\u20ac",USD:"$",GBP:"\xa3"},R=t(4),U=m.a.p(v||(v=Object(j.a)(["\n  margin-bottom: 0;\n  padding-top: 10px;\n  font-size: 14px;\n  text-align: right;\n  color: #959ebd;\n"]))),S=Object(u.a)((function(){var e=be().balances;return Object(R.jsx)(U,{children:Object.keys(e).map((function(n,t){return" ".concat(n," : ").concat(e[n].toFixed(2)).concat(k[n]," ")}))})})),B=m.a.div(x||(x=Object(j.a)(["\n    height: 50px;\n    width: 100%;\n    margin-top: 10px;\n    border-radius: 8px;\n    background-color: #0CCFAC;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    font-size: 18px;\n    '&:hover': {\n      background-color: #0ACCA9;\n    },\n"]))),P=Object(u.a)((function(){var e=be(),n=Object(a.useCallback)((function(){var n=e.fromCurrency,t=e.toCurrency;void 0!==e.fromValue&&void 0!==e.toValue&&(parseFloat(e.fromValue)>e.balances[e.fromCurrency]?alert("Insufficient funds"):(e.setBalance(n,e.balances[n]-parseFloat(e.fromValue)),e.setBalance(t,e.balances[t]+parseFloat(e.toValue)),e.setFromValue("0"),e.setToValue("0")))}),[]);return Object(R.jsx)(B,{onClick:n,children:"EXCHANGE"})})),T=m.a.span(O||(O=Object(j.a)(["\n  text-align: center;\n  border-radius: 10px;\n  border: solid 1px#aae8f1;\n  padding: 5px;\n  font-size: 13px;\n  background: #361d4c;\n"]))),D=Object(u.a)((function(){var e=be();if(!e.rates)return null;var n,t;return Object(R.jsxs)(T,{children:["\u2193 1",k[e.fromCurrency]," ="," ",(n=e.fromCurrency,t=e.toCurrency,(1/("EUR"===n?1:null===e||void 0===e?void 0:e.rates[n])*("EUR"===t?1:null===e||void 0===e?void 0:e.rates[t])).toFixed(4)),k[e.toCurrency]," \u2191"]})})),z=t(105),G=t(109),A=t(111),I=t(110),M=m.a.img(h||(h=Object(j.a)(["\n  width: 32px;\n  height: 32px;\n"]))),N=m.a.div(g||(g=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-family: Rubik;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 19px;\n"]))),L=Object(z.a)({root:{height:32,color:"#fff",backgroundColor:"transparent","& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiSelect-selectMenu":{fontSize:14},"& .MuiSelect-select:focus":{backgroundColor:"unset"},"& .MuiSelect-icon":{color:"white"}}}),H=Object(u.a)((function(e){var n=e.type,t=void 0===n?"from":n,r=e.updateValue,o=L(),c=be(),i=Object(a.useCallback)((function(e){"from"===t?c.setFromCurrency(e.target.value):c.setToCurrency(e.target.value),r("from"===t?"to":"from")}),[]);return Object(R.jsx)(G.a,{variant:"outlined",displayEmpty:!0,className:o.root,value:"from"===t?c.fromCurrency:c.toCurrency,onChange:i,children:c.currencies.map((function(e){return Object(R.jsx)(A.a,{value:e,children:Object(R.jsxs)(N,{children:[Object(R.jsx)(M,{src:"./images/".concat(e,".svg"),alt:e}),Object(R.jsx)(I.a,{ml:1,children:e})]})},e)}))})})),J=t(55),X=m.a.div(y||(y=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),$=Object(u.a)((function(e){var n=e.type,t=void 0===n?"from":n,r=be(),o=Object(a.useRef)(null);Object(a.useEffect)((function(){var e,n;null===(e=o.current)||void 0===e||e.focus(),null===(n=o.current)||void 0===n||n.blur()}),[r.fromCurrency,r.toCurrency]);var c=function(e){var n=r.fromCurrency,t=r.toCurrency;if("from"===e){if(void 0===r.fromValue)return;var a="EUR"===n?1:r.rates[n],o=parseFloat(r.fromValue)/a,c="EUR"===t?1:r.rates[t];r.setToValue((o*c).toFixed(2).toString())}else{if(void 0===r.toValue)return;var i="EUR"===t?1:r.rates[t],u=parseFloat(r.toValue)/i,s="EUR"===t?1:r.rates[n];r.setFromValue((u*s).toFixed(2).toString())}};return Object(R.jsxs)(X,{children:[Object(R.jsx)(H,{type:t,updateValue:c}),Object(R.jsx)(J.a,{ref:o,id:"input-example",name:"input-name",value:"from"===t?r.fromValue:r.toValue,className:"currency-input ".concat(void 0!==r.fromValue&&void 0!==r.toValue&&"from"===t&&parseFloat(r.fromValue)>r.balances[r.fromCurrency]?"currency-input--error":""),prefix:"from"===t?k[r.fromCurrency]:k[r.toCurrency],placeholder:"",decimalsLimit:2,onValueChange:function(e,n){!function(e,n){if(void 0===e)return r.setFromValue("0"),void r.setToValue("0");"from"===t?r.setFromValue(e):r.setToValue(e),c(t)}(e)}})]})})),_=m.a.div(C||(C=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),q=m.a.div(V||(V=Object(j.a)(["\n  width: 30rem;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n  background-color: #191332;\n  margin-top: 100px;\n  border-radius: 10px;\n"]))),K=m.a.h5(F||(F=Object(j.a)(["\n  text-align: center;\n  padding: 5px;\n  padding-top: 15px;\n"]))),Q=m.a.div(E||(E=Object(j.a)(["\n  margin: 20px;\n  margin-top: 0;\n  padding: 15px;\n  padding-top: 0px;\n\n  border: 1px solid #29294d;\n  border-radius: 5px;\n"]))),W=m.a.p(w||(w=Object(j.a)(["\n  padding-top: 10px;\n  font-size: 18px;\n  text-align: left;\n  color: #959ebd;\n"]))),Y=Object(u.a)((function(){be();return Object(R.jsxs)(q,{children:[Object(R.jsx)(K,{children:"Currency Exchange"}),Object(R.jsxs)(Q,{children:[Object(R.jsxs)(_,{children:[Object(R.jsx)(W,{children:"Exchange Rate"}),Object(R.jsx)(D,{})]}),Object(R.jsx)($,{type:"from"}),Object(R.jsx)($,{type:"to"}),Object(R.jsx)(P,{}),Object(R.jsx)(S,{})]})]})})),Z=t.p+"static/media/bg.a050a836.svg",ee=(t(78),Object(b.a)({background:"url(".concat(Z,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",fontSize:"calc(10px + 2vmin)",color:"white"})),ne=function(){var e=Object(d.a)(l.a.mark((function e(n){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("http://api.exchangeratesapi.io"+n);case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),te=Object(u.a)((function(){var e=Object(f.a)("/v1/latest?base=EUR&access_key=0fb8ab80315cf27ae4855ee9b540021a&symbols=USD,EUR,GBP",ne).data,n=be();return Object(a.useEffect)((function(){console.log(e),n.setRates(null===e||void 0===e?void 0:e.rates)})),e?Object(b.b)("div",{className:"App"},Object(b.b)("header",{css:ee},Object(b.b)(Y,null))):null})),re=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,114)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),o(e),c(e)}))},ae=(t.p,t(48)),oe=t(42),ce=t(11),ie=t(10),ue=new function e(){var n;Object(oe.a)(this,e),this.balances=void 0,this.currencies=void 0,this.fromCurrency=void 0,this.toCurrency=void 0,this.fromValue=void 0,this.toValue=void 0,this.rates=void 0,this.setRates=void 0,this.setFromCurrency=void 0,this.setToCurrency=void 0,this.setFromValue=void 0,this.setToValue=void 0,this.setBalance=void 0,Object(ie.d)(this,Object(ae.a)(Object(ae.a)({},function(){var e;return{currencies:[r.EUR,r.GBP,r.USD],balances:(e={},Object(ce.a)(e,r.USD,200),Object(ce.a)(e,r.EUR,150),Object(ce.a)(e,r.GBP,10),e),fromValue:void 0,toValue:void 0,fromCurrency:r.EUR,toCurrency:r.USD,rates:void 0}}()),(n=this,{setFromCurrency:Object(ie.b)((function(e){n.fromCurrency=e})),setToCurrency:Object(ie.b)((function(e){n.toCurrency=e})),setBalance:Object(ie.b)((function(e,t){n.balances[e]=t})),setFromValue:Object(ie.b)((function(e){n.fromValue=e})),setToValue:Object(ie.b)((function(e){n.toValue=e})),setRates:Object(ie.b)((function(e){n.rates=e}))})))};function se(){return ue}var le=o.a.createContext(null),de=function(e){var n=e.children,t=Object(u.b)(se);return Object(R.jsx)(le.Provider,{value:t,children:n})},be=function(){var e=o.a.useContext(le);if(!e)throw new Error("useStore must be used within a StoreProvider");return e};i.a.render(Object(R.jsx)(de,{children:Object(R.jsx)(te,{})}),document.getElementById("root")),re()}},[[80,1,2]]]);
//# sourceMappingURL=main.16df87a3.chunk.js.map